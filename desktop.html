*{margin:0;padding:0;box-sizing:border-box;font-family:'Poppins',sans-serif}
body{width:100%;height:100vh;overflow:hidden}

/* üå∏ BACKGROUND */
.desktop{
  position:relative;
  width:100%;
  height:100%;
  background:linear-gradient(120deg,#ffd6e8,#c8f0d4,#ffb7d5);
  background-size:400% 400%;
  animation:bgMove 18s ease infinite;
}
@keyframes bgMove{
  0%{background-position:0% 50%}
  50%{background-position:100% 50%}
  100%{background-position:0% 50%}
}

/* ‚ú® particles */
.particle{
  position:absolute;
  width:6px;height:6px;
  background:rgba(255,255,255,.7);
  border-radius:50%;
  animation:floatUp linear infinite;
}
@keyframes floatUp{
  from{transform:translateY(0);opacity:0}
  20%{opacity:.8}
  to{transform:translateY(-120vh);opacity:0}
}

/* üß∑ DOCK */
.dock{
  position:fixed;
  bottom:18px;
  left:50%;
  transform:translateX(-50%);
  display:flex;
  gap:18px;
  padding:12px 18px;
  background:rgba(255,255,255,.35);
  backdrop-filter:blur(10px);
  border-radius:22px;
  z-index:1000;
}
.dock-item{
  width:56px;height:56px;border-radius:16px;
  background:rgba(255,255,255,.85);
  display:flex;align-items:center;justify-content:center;
  font-size:26px;cursor:pointer;
  transition:transform .45s cubic-bezier(.22,1,.36,1),opacity .25s ease;
}
.dock-item:hover{
  transform:translateY(-8px) scale(1.08);
}
/* ü™ü WINDOWS */
.window{
  position:absolute;
  top:50%;left:50%;
  width:520px;
  height:460px;
  max-width:90%;
  background:white;
  border-radius:18px;
  box-shadow:
  0 30px 60px rgba(0,0,0,.25),
  0 8px 20px rgba(0,0,0,.18);
  transform:scale(.9);
  opacity:0;
  pointer-events:none;
  transition:.35s ease;
  z-index:2000;
  overflow:hidden
}
.window.show{
  opacity:1;
  transform:scale(1);
  pointer-events:auto;
}
.window.active{
  box-shadow:
    0 40px 90px rgba(0,0,0,.35),
    0 0 0 1px rgba(255,255,255,.4);
}

.window:not(.active){
  filter:brightness(.94) saturate(.96);
}
.window-header{
  cursor:grab;
  padding:12px 16px;
  display:flex;
  justify-content:space-between;
  align-items:center;
  font-weight:600;
  position:relative;
  z-index:100;
}
.window:hover{
  transform:scale(1.01) translateY(-3px);
}

/* üî¥ close dot */
.close-dot{
  width:12px;height:12px;border-radius:50%;
  background:#ff5f57;
  cursor:pointer;
  position:relative;
}
.close-dot::after{
  content:"Close";
  position:absolute;
  top:-26px;right:0;
  background:rgba(0,0,0,.75);
  color:white;
  font-size:11px;
  padding:4px 8px;
  border-radius:6px;
  opacity:0;
  transition:.2s;
}
.close-dot:hover::after{opacity:1}

/* üìÅ FILES */
.files-header{
  
  background:rgba(247,182,210,.75);
  backdrop-filter:blur(15px);
}
.files-body{
  padding:20px;
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(110px,1fr));
  gap:18px;
}
.file{
  background:#fff0f6;
  border-radius:16px;
  padding:16px 10px 14px;
  text-align:center;
  cursor:pointer;
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:10px;
  transition:all .35s cubic-bezier(.22,1,.36,1);
}
.file img{
  width:110px;height:110px;
  object-fit:contain;
  image-rendering:pixelated;
}
.file span{
  font-size:14px;
  font-weight:500;
  margin-top:2px;
  color:#ff4d88;
}
.file:hover{
  background:#ffe1ec;
  transform:translateY(-6px) scale(1.07);
  box-shadow:0 15px 35px rgba(255,105,180,.25);
  
}

/* üéµ PLAYLIST */
.playlist-header{
  background:linear-gradient(135deg,#1db954,#169b45);
  color:white;
}
.playlist-body{
  background:#0f0f0f;
  height:calc(100% - 48px);
  padding:12px;
  display:flex;
  flex-direction:column;
}
.playlist-list{
  flex:1;
  overflow-y:auto;
  padding-right:6px;
}
.playlist-list::-webkit-scrollbar{width:6px}
.playlist-list::-webkit-scrollbar-thumb{
  background:rgba(255,255,255,0.45);
  border-radius:10px;
}
.playlist-list{
  scrollbar-width:thin;
  scrollbar-color:#ff8fb1 transparent;
  scroll-behavior:smooth;
}

.song:active{transform:scale(.98)}
.song{
  display:flex;
  justify-content:space-between;
  padding:10px;
  border-radius:10px;
  cursor:pointer;
  color:white;
  margin-bottom:6px;
  transition:transform .25s ease,background .25s ease,box-shadow .25s ease;
}
.song:hover{background:rgba(255,255,255,.15)}
.song span{opacity:.7}
.song.active{
  background:rgba(255,255,255,.22);
  box-shadow:inset 0 0 0 1px rgba(255,255,255,.35),
  0 6px 20px rgba(0,0,0,.25);
}
.song.active::after{
  content:"Playing";
  font-size:14px;
  opacity:.7;
}
.spotify-player iframe{
  width:100%;
  height:80px;
  border:none;
  border-radius:14px;
}

/* üìñ SO FAR */
.sofar-window{
  width:90vw;
  height:90vh;
  max-width:1100px;
  position:relative;
  isolation:isolate;
  overflow:hidden;

  background:
    linear-gradient(
      180deg,
      #0f1228 0%,
      #1a1f3f 40%,
      #2b2f6e 75%,
      #3b4c8f 100%
    );

  box-shadow:
    0 40px 100px rgba(0,0,0,.5),
    inset 0 0 120px rgba(0,0,0,.4);

 
}

.sofar-body{
  position:relative;
  z-index:10;
}
/* ‚ú® SO FAR TYPOGRAPHY (OUTSIDE THE BLOCK) */
.sofar-window h1,
.sofar-window h2{
  font-family:'Dancing Script', cursive;
  color:#f3f4ff;
  text-shadow:
    0 0 12px rgba(255,255,255,.15),
    0 4px 20px rgba(0,0,0,.6);
}

.sofar-window p{
  font-family:'Poppins', sans-serif;
  color:#dcdffb;
  text-shadow:0 2px 10px rgba(0,0,0,.5);
}


/* üåå Atmosphere Layer */
.atmosphere-layer{
  position:absolute;
  inset:-20%;
  pointer-events:none;
  z-index:1;

  background:
    radial-gradient(circle at 60% 40%, rgba(255,255,255,.03), transparent 60%),
    radial-gradient(circle at 30% 70%, rgba(255,255,255,.025), transparent 60%);

  filter:blur(140px);
  animation:mistDrift 80s linear infinite alternate;
  opacity:.6;
}



/* üå´ Ghibli Mist Particles */
.sofar-window::before{
  content:"";
  position:absolute;
  inset:-5%;
  pointer-events:none;
  z-index:5;

  background:
    radial-gradient(1.5px 1.5px at 20% 30%, rgba(255,255,255,.6), transparent),
    radial-gradient(1px 1px at 70% 60%, rgba(255,255,255,.5), transparent),
    radial-gradient(1.5px 1.5px at 50% 80%, rgba(255,255,255,.5), transparent),
    radial-gradient(1px 1px at 85% 20%, rgba(255,255,255,.5), transparent);

  background-repeat:no-repeat;

  opacity:.25;

  animation:
    mistFloat 180s linear infinite,
    mistTwinkle 8s ease-in-out infinite alternate;
}

.sofar-window::after{
  content:"";
  position:absolute;
  inset:-40%;
  z-index:50;
  pointer-events:none;

  background:
    radial-gradient(circle at 25% 40%, rgba(120,140,255,.18), transparent 70%),
    radial-gradient(circle at 75% 60%, rgba(200,140,255,.15), transparent 70%),
    radial-gradient(circle at 40% 20%, rgba(255,160,200,.15), transparent 70%);

  filter:blur(200px);
  opacity:.5;

  animation:
    nebulaDrift 40s ease-in-out infinite alternate,
    nebulaPulse 10s ease-in-out infinite alternate;
}

.stars-layer{
  
  position:absolute;
  inset:0;
  pointer-events:none;
  z-index:0;

  background:
    radial-gradient(2px 2px at 20% 30%, rgba(255,255,255,.8), transparent),
    radial-gradient(1.5px 1.5px at 70% 60%, rgba(255,255,255,.7), transparent),
    radial-gradient(2px 2px at 40% 80%, rgba(255,255,255,.9), transparent),
    radial-gradient(1.5px 1.5px at 85% 20%, rgba(255,255,255,.7), transparent),
    radial-gradient(2px 2px at 10% 70%, rgba(255,255,255,.8), transparent);

  background-repeat:no-repeat;
  animation:starsDrift 120s linear infinite;
}

.stars-layer::after{
  content:"";
  position:absolute;
  inset:0;
  background:inherit;
  animation:starsTwinkle 6s ease-in-out infinite alternate;
  opacity:.5;
}


.galaxy-sweep{
  position:absolute;
  inset:-40%;
  z-index:0;
  pointer-events:none;
  background:radial-gradient(circle at 50% 50%, rgba(255,255,255,.04), transparent 70%);
  animation:nebulaDrift 60s ease-in-out infinite alternate;
}

/* üå´ Soft Cinematic Fog */
.fog-layer{
  position:absolute;
  inset:0;
  pointer-events:none;
  z-index:5;

  /* Very soft tonal grading instead of white fog */
  background:
    linear-gradient(
      180deg,
      rgba(255,255,255,.025),
      rgba(255,255,255,.015),
      rgba(0,0,0,.05)
    );

  backdrop-filter: blur(0.1px);
  opacity:.1;
}
  backdrop-filter: blur(0.2px);
  opacity:.1;

  animation:fogDrift 60s ease-in-out infinite alternate;
}




@keyframes fogDrift{
  0%{
    transform:translate(-30px,-20px) scale(1);
  }
  100%{
    transform:translate(40px,25px) scale(1.05);
  }
}

@keyframes mistFloat{
  0%{ transform:translateY(0px); }
  100%{ transform:translateY(-300px); }
}

@keyframes mistTwinkle{
  0%{ opacity:.4; }
  100%{ opacity:1; }
}








/* ============================= */
/* CINEMATIC SCROLL SYSTEM */
/* ============================= */

.cinematic{
  height:100%;
  overflow-y:auto;
  scroll-snap-type:y mandatory;
}

.scene{
  height:100%;
  display:flex;
  align-items:center;
  justify-content:center;
  text-align:center;
  scroll-snap-align:start;
}

.scene-content{
  max-width:800px;
  opacity:0;
  transform:translateY(40px);
  transition:all 1.2s ease;
}

.scene.active .scene-content{
  opacity:1;
  transform:translateY(0);
}

/* ============================= */
/* SCENE 1 */
/* ============================= */

.type-line{
  font-size:36px;
  margin-bottom:20px;
}

.delay{
  font-size:18px;
  opacity:.8;
}

/* ============================= */
/* SCENE 2 ‚Äì CLEAN CINEMATIC */
/* ============================= */

.scene-visual{
  position:relative;
  width:460px;
  height:540px;
  margin:0 auto;
}

/* üåç Globe rolls upward */
.globe{
  position:absolute;
  bottom:-480px;
  left:50%;
  transform:translateX(-50%) rotate(0deg);
  width:380px;
  z-index:1;
  transition:
    bottom 4s cubic-bezier(.22,1,.36,1),
    transform 4s cubic-bezier(.22,1,.36,1);
}

.scene-2.active .globe{
  bottom:0;
  transform:translateX(-50%) rotate(720deg);
}

/* üë¶üëß Sprites standing on globe */
.sprite{
  position:absolute;
  width:115px;
  bottom:350px; /* ABOVE globe */
  z-index:3;
  transition:all 2.5s cubic-bezier(.22,1,.36,1);
}

/* VERY apart initially */
.boy{
  left:-10px;
}

.girl{
  right:-10px;
}

/* Pull slightly closer (not touching) */
.scene-2.pull .boy{
  left:100px;
}

.scene-2.pull .girl{
  right:100px;
}



/* Distance text */
.scene-visual{
  position:relative;   /* make sure this exists */
}

.distance-text{
  position:absolute;

  top:120px;           /* vertical placement */
  right:-230px;        /* pushes it to the right of globe */

  font-family:'Dancing Script', cursive;
  font-size:46px;
  line-height:1.1;

  color:#ffffff;

  text-shadow:
    0 0 18px rgba(255,255,255,.35),
    0 8px 30px rgba(0,0,0,.7);

  opacity:0;
  transform:translateX(30px);
  transition:all 1.4s ease;
  z-index:4;
}

.scene-2.show-text .distance-text{
  opacity:1;
  transform:translateX(0);
}

.distance-map{
  position:absolute;
  left:-260px;
  top:120px;

  width:220px;
  border-radius:14px;

  box-shadow:
    0 20px 40px rgba(0,0,0,.6),
    0 0 25px rgba(255,255,255,.15);

  opacity:0;
  transform:translateY(20px) scale(.95);
  transition:all 1.6s ease;
  z-index:4;
}

/* Fade in after pull */
.scene-2.show-text .distance-map{
  opacity:1;
  transform:translateY(0) scale(1);
}

@keyframes mapFloat{
  0%{ transform:translateY(0px); }
  100%{ transform:translateY(-8px); }
}

.scene-2.show-text .distance-map{
  animation:mapFloat 4s ease-in-out infinite alternate;
}



.sub-text{
  opacity:0;
  transition:opacity 1.8s ease;
}

.scene-2.show-text .distance-text{
  opacity:1;
  transform:translateX(0);
}



.scene-2.show-text .sub-text{
  opacity:1;
}

@keyframes mapFloat{
  0%{ transform:translateY(0px); }
  100%{ transform:translateY(-8px); }
}

.scene-2.show-text .distance-map{
  animation:mapFloat 4s ease-in-out infinite alternate;
}

/* ============================= */
/* SCENE 3 */
/* ============================= */

.mapua-wrapper{
  display:flex;
  justify-content:center;
  align-items:center;
  margin-bottom:50px;
}

.school-logo{
  width:280px;              /* BIGGER */
  max-width:80%;
  transform:scale(.8) translateY(-40px);
  opacity:0;
  transition:all 1.2s cubic-bezier(.22,1,.36,1);
  filter:drop-shadow(0 20px 40px rgba(0,0,0,.5));
}

.scene-3.active .school-logo{
  transform:scale(1) translateY(0);
  opacity:1;
}


.scene-3.active .school-logo{
  transform:translateY(0);
  opacity:1;
}

/* ============================= */
/* SCENE 3 ‚Äì UNIVERSITY REVEAL */
/* ============================= */

.scene3-title,
.scene3-sub{
  opacity:0;
  transform:translateY(20px);
  transition:all 1.2s ease;
}

.scene-3.active .scene3-title{
  opacity:1;
  transform:translateY(0);
  transition-delay:.4s;
}

.scene-3.active .scene3-sub{
  opacity:1;
  transform:translateY(0);
  transition-delay:.8s;
}

/* Study layout */
.study-wrapper{
  margin-top:60px;
  display:flex;
  justify-content:space-between;
  align-items:flex-start;
  gap:40px;
}

/* Individual sides */
.study-boy,
.study-girl{
  width:45%;
  text-align:center;
  opacity:0;
  transform:translateY(40px);
  transition:all 1.4s cubic-bezier(.22,1,.36,1);
}

.scene-3.show-studies .study-boy{
  opacity:1;
  transform:translateY(0);
  transition-delay:.3s;
}

.scene-3.show-studies .study-girl{
  opacity:1;
  transform:translateY(0);
  transition-delay:.8s;
}

/* Study images */
.study-img{
  width:200px;
  max-width:100%;
  image-rendering:pixelated;
  filter:drop-shadow(0 20px 40px rgba(0,0,0,.5));
  margin-bottom:20px;
}

/* Study text */
.study-text{
  font-size:20px;
  opacity:0;
  transform:translateY(20px);
  transition:all 1s ease;
}

.scene-3.show-studies .study-text{
  opacity:1;
  transform:translateY(0);
  transition-delay:1.2s;
}

/* ============================= */
/* SCENE 4 ‚Äì INTERTWINED */
/* ============================= */
/* ============================= */
/* SCENE 4 ‚Äì INTERTWINED */
/* ============================= */

.scene-4 .scene-content{
  position:relative;
}

.scene4-line,
.scene4-sub{
  opacity:0;
  transform:translateY(30px);
  transition:all 1.2s ease;
}

.scene-4.active .scene-content{
  animation: scene4Zoom 6s ease forwards;
}

@keyframes scene4Zoom{
  from { transform:scale(1); }
  to   { transform:scale(1.05); }
}

.scene-4.active .line-1{
  opacity:1;
  transform:translateY(0);
}

.scene-4.active .line-2{
  opacity:1;
  transform:translateY(0);
  transition-delay:1.5s;
}

.scene-4.active .scene4-sub{
  opacity:1;
  transform:translateY(0);
  transition-delay:3s;
}


/* ============================= */
/* SCENE 4 ‚Äì CLEAN MERGE + STABLE SPIN */
/* ============================= */

.threads{
  position:relative;
  height:220px;
  margin:40px 0;
  display:flex;
  justify-content:center;
  align-items:center;
}

/* Base circle */
.thread{
  position:absolute;
  width:205px;
  height:200px;
  border-radius:50%;
  border:2px solid rgba(255,255,255,.4);
  filter:blur(2px);

  background:
    radial-gradient(circle at 30% 30%, rgba(255,255,255,.25), transparent 60%);

  opacity:0;

  transition:
    opacity 1.4s ease,
    transform 2.2s cubic-bezier(.22,1,.36,1);
}

/* START far apart */
.thread-left{
  background:
    radial-gradient(circle at 30% 30%,
      rgba(140, 180, 255, .45),
      rgba(120, 150, 255, .25),
      transparent 65%
    );
}

.thread-right{
  background:
    radial-gradient(circle at 30% 30%,
      rgba(255, 160, 200, .45),
      rgba(255, 120, 170, .25),
      transparent 65%
    );
}


/* MERGE */
.scene-4.active .thread{
  opacity:.85;
}

.scene-4.active .thread-left{
  transform:translateX(-80px);
}

.scene-4.active .thread-right{
  transform:translateX(80px);
}

/* SPIN AFTER MERGE ‚Äî keeps same position */
@keyframes spinLeft {
  from { transform: translateX(-80px) rotate(0deg); }
  to   { transform: translateX(-80px) rotate(360deg); }
}

@keyframes spinRight {
  from { transform: translateX(80px) rotate(0deg); }
  to   { transform: translateX(80px) rotate(-360deg); }
}


/* Apply spin */
.scene-4.active .thread-left{
  animation: spinLeft 16s linear infinite;
  animation-delay:2.2s;
}

.scene-4.active .thread-right{
  animation: spinRight 16s linear infinite;
  animation-delay:2.2s;
}

/* Glow */
.venn-glow{
  position:absolute;
  width:190px;
  height:190px;
  border-radius:50%;
  pointer-events:none;

  background:radial-gradient(
    circle,
    rgba(255,255,255,.35) 0%,
    rgba(170,190,255,.25) 30%,
    rgba(120,140,255,.15) 60%,
    transparent 85%
  );

  filter:blur(32px);
  opacity:0;
  transition:opacity 1.5s ease;
}

.scene-4.active .venn-glow{
  opacity:1;
  transition-delay:1.8s;
}






/* üíå FULL 3D BOOK */
#letterWindow{
  width:900px;
  height:80vh;
  max-width:95%;
}

#letterWindow .page-content p{
  font-family:'Patrick Hand'!important;
  font-size:22px;
  line-height:2.2;
  color:#4a3f3f;
  letter-spacing:.4px;
}



.book-wrapper{
  height:calc(100% - 48px);
  display:flex;
  align-items:center;
  justify-content:center;
  background:
    radial-gradient(circle at 30% 30%, rgba(255,255,255,.8), transparent 60%),
    linear-gradient(135deg,#fff1f7,#ffe4f2);
  perspective:4000px;
  position:relative;
  overflow:hidden;
}



/* BOOK */
.book{
  width:80%;
  height:85%;
  position:relative;
  transform-style:preserve-3d;
  filter:drop-shadow(0 60px 80px rgba(0,0,0,.25));
}



/* PAGES */
.book-page{
  position:absolute;
  width:100%;
  height:100%;
  background:
    linear-gradient(to right,#fff,#fdf9fb 60%,#fff5fa);
  border-radius:18px;
  box-shadow:
    0 50px 100px rgba(0,0,0,.25),
    inset 0 0 80px rgba(0,0,0,.04);
  transform-origin:left center;
  transform-style:preserve-3d;
  transition:transform 1.6s cubic-bezier(.22,1,.36,1);
  backface-visibility:hidden;
  padding:70px;
}



/* Paper texture */
.book-page::before{
  content:"";
  position:absolute;
  inset:0;
  background:radial-gradient(rgba(0,0,0,.02) 1px, transparent 1px);
  background-size:4px 4px;
  opacity:.35;
  border-radius:14px;
  pointer-events:none;
}

/* FLIPPED */
.book-page.flipped{
  transform:rotateY(-180deg);
  box-shadow:
    -30px 40px 80px rgba(0,0,0,.25),
    inset 0 0 40px rgba(0,0,0,.08);
}

.book-page:not(.flipped){
  box-shadow:
    0 60px 120px rgba(0,0,0,.28),
    inset 0 0 80px rgba(255,143,177,.06);
}

/* Dynamic stacking */
.book-page{
  z-index:1;
}

.page-content h3{
  font-family:'Playfair Display',serif;
  font-size:30px;
  letter-spacing:.5px;
  color:#ff4d88;
  margin-bottom:25px;
}

.page-content p{
  font-size:17px;
  line-height:2;
  color:#444;
}


/* Spine */
.book::before{
  content:"";
  position:absolute;
  left:0;
  top:0;
  width:12px;
  height:100%;
  background:linear-gradient(to right,#e8b6cf,#f8d5e7);
  z-index:50;
}

/* Controls */
.book-controls{
  position:absolute;
  bottom:25px;
  display:flex;
  gap:20px;
}

.book-controls button{
  padding:12px 22px;
  border:none;
  border-radius:14px;
  background:rgba(255,255,255,.7);
  backdrop-filter:blur(10px);
  color:#ff4d88;
  font-weight:600;
  box-shadow:
    0 10px 30px rgba(0,0,0,.15);
  cursor:pointer;
  transition:.35s ease;
}

.book-controls button:hover{
  transform:translateY(-4px) scale(1.05);
  box-shadow:
    0 20px 40px rgba(255,143,177,.35);
}


.book::after{
  content:"";
  position:absolute;
  top:0;
  left:-40%;
  width:40%;
  height:100%;
  background:linear-gradient(
    120deg,
    transparent,
    rgba(255,255,255,.4),
    transparent
  );
  transform:skewX(-20deg);
  animation:lightSweep 8s infinite;
}

@keyframes lightSweep{
  0%{left:-40%}
  50%{left:120%}
  100%{left:120%}
}


@keyframes starsFloat{
  0%{transform:translateY(0px)}
  100%{transform:translateY(-200px)}
}



@keyframes starsTwinkle{
  0%{opacity:.6}
  100%{opacity:1}
}

@keyframes nebulaDrift{
  0%{transform:translate(-60px,-40px) scale(1)}
  50%{transform:translate(60px,40px) scale(1.15)}
  100%{transform:translate(-30px,60px) scale(1.2)}
}

@keyframes nebulaPulse{
  0%{opacity:.7}
  100%{opacity:1}
}

@keyframes mistDrift{
  0%{transform:translate(-40px,-20px)}
  100%{transform:translate(40px,20px)}
}

@keyframes starsDrift{
  0%{
    transform:translateY(0px);
  }
  100%{
    transform:translateY(-300px);
  }
}

.deep-stars{
  position:absolute;
  inset:0;
  pointer-events:none;
  z-index:2;
  background-image:
    radial-gradient(1px 1px at 15% 25%, rgba(255,255,255,.5), transparent),
    radial-gradient(1px 1px at 75% 65%, rgba(255,255,255,.4), transparent),
    radial-gradient(1px 1px at 55% 45%, rgba(255,255,255,.6), transparent),
    radial-gradient(1px 1px at 85% 15%, rgba(255,255,255,.5), transparent);

  animation:starsTwinkle 6s ease-in-out infinite alternate;
}
