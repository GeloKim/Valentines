function restartSequence() {
  // Remove any existing hearts/confetti
  document.querySelectorAll('.heart, .sideHeart, .confetti').forEach(e=>e.remove());

  // Reset all sections visibility
  document.getElementById('mainIntro').style.display='flex';
  document.getElementById('loveLetter').style.display='none';
  document.getElementById('mainCard').style.display='none';
  document.getElementById('finalPage').style.display='none';

  // Reset countdown
  updateCountdown();

  // Reset button states
  if (specialPageBtn) {
    specialPageBtn.innerText='Locked';
    specialPageBtn.disabled=true;
    specialPageBtn.classList.remove('unlocked');
  }

  // Hide invite and noMsg
  document.getElementById('invite').classList.add('hidden');
  document.getElementById('noMsg').classList.add('hidden');

  // Restart the sequence
  setTimeout(() => {
    document.getElementById('mainIntro').style.display='flex';
    document.getElementById('loveLetter').style.display='none';
    document.getElementById('mainCard').style.display='none';
    document.getElementById('finalPage').style.display='none';

    // After a delay, go to loveLetter then mainCard
    setTimeout(() => {
      document.getElementById('mainIntro').style.display='none';
      document.getElementById('loveLetter').style.display='flex';

      // After showing loveLetter for 6 seconds, move to mainCard
      setTimeout(() => {
        document.getElementById('loveLetter').style.display='none';
        document.getElementById('mainCard').style.display='flex';
      }, 6000);
    }, 7000);
  }, 0);
}
